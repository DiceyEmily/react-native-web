plugins {
    id 'com.android.library'
    id 'kotlin-android'
}

apply from: project(':react-native-config').projectDir.getPath() + "/dotenv.gradle"

def getEnvStr(key, defaultVal = "") {
    if (project.env) {
        return project.env.get(key)
    }
    return defaultVal
}

def getEnvBool(key) {
    if (project.env) {
        return project.env.get(key)
    }
    return false
}

android {
    compileSdkVersion "$compilesdk_version".toInteger()
    buildToolsVersion "$buildtools_version"

    viewBinding {
        enabled = true
    }

    defaultConfig {
        minSdkVersion rootProject.minSdkVersion
        targetSdkVersion rootProject.targetSdkVersion
        versionCode 1
        versionName "1.0"

        consumerProguardFiles "consumer-rules.pro"
    }

    buildTypes {
        release {
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }

}

repositories {
    flatDir {
        //引用aar路径
        dirs 'libs'
    }
}

dependencies {

    implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
    implementation "androidx.core:core-ktx:$core"
    implementation "androidx.appcompat:appcompat:$appcompat"
    implementation 'com.facebook.react:react-native:+'


    implementation "androidx.biometric:biometric:1.1.0"

    // TinyPinyin核心包，约80KB
    implementation 'com.github.promeg:tinypinyin:2.0.3'
    implementation 'com.github.promeg:tinypinyin-lexicons-android-cncity:2.0.3'
    // 可选，适用于Android的中国地区词典

    implementation project(':mvvm')

    //扫码
    implementation 'cn.bingoogolapple:bga-qrcode-zxing:1.3.7'
}